(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{22:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var n,r=c(7),s=c.n(r),a=c(4),i=c(14),u=c(11),o=c(2),l=c(13);!function(e){e.SET_INIT_TODOS="SET_INIT_TODOS",e.SET_ID="SET_ID",e.SET_SELECTED_ID="SET_SELECTED_ID",e.SET_VALUE_FILTER="SET_VALUE_FILTER",e.SET_VALUE_SELECT="SET_VALUE_SELECT",e.SET_RANDOMIZE="SET_RANDOMIZE",e.SET_USER="SET_USER"}(n||(n={}));var d=function(e){return{type:n.SET_SELECTED_ID,value:e}},j=function(e){return{type:n.SET_USER,value:e}},b=function(e){var t=e.initTodos,c=e.valueSelect,n=e.valueFilter,r=t;if(r=r.filter((function(e){switch(c){case"active":return!e.completed;case"completed":return e.completed;default:return e}})),n){var s=n.toLocaleLowerCase();r=r.filter((function(e){return e.title.toLowerCase().includes(s)}))}return r},O=function(e){return e.id},_=function(e){return e.selectedId},E=function(e){return e.user},T={initTodos:[],id:0,selectedId:0,valueFilter:"",valueSelect:"all",randomize:!1,user:null},f=Object(l.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_INIT_TODOS:return Object(o.a)(Object(o.a)({},e),{},{initTodos:t.value});case n.SET_ID:return Object(o.a)(Object(o.a)({},e),{},{initTodos:e.initTodos.filter((function(e){return e.id!==t.value})),id:t.value});case n.SET_SELECTED_ID:return Object(o.a)(Object(o.a)({},e),{},{selectedId:t.value});case n.SET_VALUE_FILTER:return Object(o.a)(Object(o.a)({},e),{},{valueFilter:t.value});case n.SET_VALUE_SELECT:return Object(o.a)(Object(o.a)({},e),{},{initTodos:e.randomize?Object(u.a)(e.initTodos).sort((function(e,t){return e.userId-t.userId})):e.initTodos,valueSelect:t.value,selectedId:0,randomize:!1});case n.SET_RANDOMIZE:return Object(o.a)(Object(o.a)({},e),{},{initTodos:Object(u.a)(e.initTodos).sort((function(){return Math.random()-.5})),randomize:!0});case n.SET_USER:return Object(o.a)(Object(o.a)({},e),{},{user:t.value});default:return e}})),h=f,m=c(0),v=c(10),p=c.n(v),S=function(e){return fetch("".concat("https://mate.academy/students-api").concat(e)).then((function(e){return e.json()}))},x=(c(22),c(1)),I=function(){var e=Object(a.b)(),t=Object(a.c)(b),c=Object(a.c)(O),r=Object(a.c)(_);return Object(m.useEffect)((function(){S("/todos").then((function(t){var c,r=t.sort((function(e,t){return e.userId-t.userId}));e((c=r,{type:n.SET_INIT_TODOS,value:c}))}))}),[]),Object(m.useEffect)((function(){t.some((function(e){return e.userId===r}))||e(d(0))}),[c]),Object(x.jsx)("div",{className:"TodoList",children:Object(x.jsx)("div",{className:"TodoList__list-container",children:Object(x.jsx)("ul",{className:"TodoList__list",children:t.map((function(t){return Object(x.jsxs)("li",{className:p()("TodoList__item",{"TodoList__item--checked":t.completed}),children:[Object(x.jsxs)("div",{className:"TodoList__item-container",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{type:"checkbox",checked:t.completed,readOnly:!0}),Object(x.jsx)("p",{children:t.title})]}),Object(x.jsx)("button",{className:p()("TodoList__user-button","button",{"user-button":r===t.userId}),type:"button","data-cy":"userButton",onClick:function(){return e(d(t.userId))},children:"User #".concat(t.userId)})]}),Object(x.jsx)("button",{type:"button",className:"button button-delete",onClick:function(){return e((c=t.id,{type:n.SET_ID,value:c}));var c},children:"X"})]},t.id)}))})})})},N=(c(24),function(){var e=Object(a.c)(E),t=Object(a.b)(),c=Object(a.c)(_);return Object(m.useEffect)((function(){var e;(e=c,S("/users/".concat(e))).then((function(e){return t(j(e))})).catch((function(){return t(j(null))}))}),[c]),e?Object(x.jsxs)("div",{className:"CurrentUser",children:[Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("h2",{className:"CurrentUser__title",children:Object(x.jsx)("span",{children:"Selected user: ".concat(c)})}),Object(x.jsx)("button",{type:"button",className:"CurrentUser__clear",onClick:function(){return t(d(0))},children:"X"})]}),Object(x.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:e.name}),Object(x.jsx)("p",{className:"CurrentUser__email",children:e.email}),Object(x.jsx)("p",{className:"CurrentUser__phone",children:e.phone})]}):Object(x.jsx)("div",{children:"No user details"})}),L=(c(25),c(26),function(){var e=Object(a.b)(),t=Object(a.c)(b),c=Object(a.c)(_);return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)("div",{className:"App__sidebar",children:[Object(x.jsx)("h2",{children:"Todos: ".concat(t.length)}),Object(x.jsxs)("div",{className:"sidebar",children:[Object(x.jsx)("input",{type:"text",className:"input",placeholder:"Enter title",onChange:function(t){return e((c=t.target.value,{type:n.SET_VALUE_FILTER,value:c}));var c}}),Object(x.jsx)("select",{className:"select",onChange:function(t){return e((c=t.target.value,{type:n.SET_VALUE_SELECT,value:c}));var c},children:["all","active","completed"].map((function(e){return Object(x.jsx)("option",{children:e},e)}))}),Object(x.jsx)("button",{type:"button",className:"randomize",onClick:function(){return e({type:n.SET_RANDOMIZE})},children:"Randomize"})]}),Object(x.jsx)(I,{})]}),Object(x.jsx)("div",{className:"App__content",children:Object(x.jsx)("div",{className:"App__content-container",children:c?Object(x.jsx)(N,{}):"No user selected"})})]})}),C=function(){return Object(x.jsx)(a.a,{store:h,children:Object(x.jsx)(i.a,{children:Object(x.jsx)(L,{})})})};s.a.render(Object(x.jsx)(C,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.aa336c2e.chunk.js.map
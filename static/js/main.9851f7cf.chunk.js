(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{23:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var n,r=c(7),s=c.n(r),i=c(4),a=c(15),o=c(12),u=c(2),l=c(9),d=c(14);!function(e){e.SET_INIT_TODOS="SET_INIT_TODOS",e.SET_ID="SET_ID",e.SET_SELECTED_ID="SET_SELECTED_ID",e.SET_VALUE_FILTER="SET_VALUE_FILTER",e.SET_VALUE_SELECT="SET_VALUE_SELECT",e.SET_RANDOMIZE="SET_RANDOMIZE",e.SET_USER="SET_USER"}(n||(n={}));var j=function(e){return{type:n.SET_SELECTED_ID,value:e}},b=function(e){return{type:n.SET_USER,value:e}},O=function(e){var t=e.initTodos,c=e.valueSelect,n=e.valueFilter,r=t;if(r=r.filter((function(e){switch(c){case"active":return!e.completed;case"completed":return e.completed;default:return e}})),n){var s=n.toLocaleLowerCase();r=r.filter((function(e){return e.title.toLowerCase().includes(s)}))}return r},_=function(e){return e.id},E=function(e){return e.selectedId},T=function(e){return e.user},h={initTodos:[],id:0,selectedId:0,valueFilter:"",valueSelect:"all",randomize:!1,user:null},f=Object(l.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_INIT_TODOS:return Object(u.a)(Object(u.a)({},e),{},{initTodos:t.value});case n.SET_ID:return Object(u.a)(Object(u.a)({},e),{},{initTodos:e.initTodos.filter((function(e){return e.id!==t.value})),id:t.value});case n.SET_SELECTED_ID:return Object(u.a)(Object(u.a)({},e),{},{selectedId:t.value});case n.SET_VALUE_FILTER:return Object(u.a)(Object(u.a)({},e),{},{valueFilter:t.value});case n.SET_VALUE_SELECT:return Object(u.a)(Object(u.a)({},e),{},{initTodos:e.randomize?Object(o.a)(e.initTodos).sort((function(e,t){return e.userId-t.userId})):e.initTodos,valueSelect:t.value,selectedId:0,randomize:!1});case n.SET_RANDOMIZE:return Object(u.a)(Object(u.a)({},e),{},{initTodos:Object(o.a)(e.initTodos).sort((function(){return Math.random()-.5})),randomize:!0});case n.SET_USER:return Object(u.a)(Object(u.a)({},e),{},{user:t.value});default:return e}}),Object(d.composeWithDevTools)()),m=f,v=c(0),p=c(11),S=c.n(p),x=function(e){return fetch("".concat("https://mate.academy/students-api").concat(e)).then((function(e){return e.json()}))},I=(c(23),c(1)),N=function(){var e=Object(i.b)(),t=Object(i.c)(O),c=Object(i.c)(_),r=Object(i.c)(E);return Object(v.useEffect)((function(){x("/todos").then((function(t){var c,r=t.sort((function(e,t){return e.userId-t.userId}));e((c=r,{type:n.SET_INIT_TODOS,value:c}))}))}),[]),Object(v.useEffect)((function(){t.some((function(e){return e.userId===r}))||e(j(0))}),[c]),Object(I.jsx)("div",{className:"TodoList",children:Object(I.jsx)("div",{className:"TodoList__list-container",children:Object(I.jsx)("ul",{className:"TodoList__list",children:t.map((function(t){return Object(I.jsxs)("li",{className:S()("TodoList__item",{"TodoList__item--checked":t.completed}),children:[Object(I.jsxs)("div",{className:"TodoList__item-container",children:[Object(I.jsxs)("label",{children:[Object(I.jsx)("input",{type:"checkbox",checked:t.completed,readOnly:!0}),Object(I.jsx)("p",{children:t.title})]}),Object(I.jsx)("button",{className:S()("TodoList__user-button","button",{"user-button":r===t.userId}),type:"button","data-cy":"userButton",onClick:function(){return e(j(t.userId))},children:"User #".concat(t.userId)})]}),Object(I.jsx)("button",{type:"button",className:"button button-delete",onClick:function(){return e((c=t.id,{type:n.SET_ID,value:c}));var c},children:"X"})]},t.id)}))})})})},L=(c(25),function(){var e=Object(i.c)(T),t=Object(i.b)(),c=Object(i.c)(E);return Object(v.useEffect)((function(){var e;(e=c,x("/users/".concat(e))).then((function(e){return t(b(e))})).catch((function(){return t(b(null))}))}),[c]),e?Object(I.jsxs)("div",{className:"CurrentUser",children:[Object(I.jsxs)("div",{className:"container",children:[Object(I.jsx)("h2",{className:"CurrentUser__title",children:Object(I.jsx)("span",{children:"Selected user: ".concat(c)})}),Object(I.jsx)("button",{type:"button",className:"CurrentUser__clear",onClick:function(){return t(j(0))},children:"X"})]}),Object(I.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:e.name}),Object(I.jsx)("p",{className:"CurrentUser__email",children:e.email}),Object(I.jsx)("p",{className:"CurrentUser__phone",children:e.phone})]}):Object(I.jsx)("div",{children:"No user details"})}),C=(c(26),c(27),function(){var e=Object(i.b)(),t=Object(i.c)(O),c=Object(i.c)(E);return Object(I.jsxs)("div",{className:"App",children:[Object(I.jsxs)("div",{className:"App__sidebar",children:[Object(I.jsx)("h2",{children:"Todos: ".concat(t.length)}),Object(I.jsxs)("div",{className:"sidebar",children:[Object(I.jsx)("input",{type:"text",className:"input",placeholder:"Enter title",onChange:function(t){return e((c=t.target.value,{type:n.SET_VALUE_FILTER,value:c}));var c}}),Object(I.jsx)("select",{className:"select",onChange:function(t){return e((c=t.target.value,{type:n.SET_VALUE_SELECT,value:c}));var c},children:["all","active","completed"].map((function(e){return Object(I.jsx)("option",{children:e},e)}))}),Object(I.jsx)("button",{type:"button",className:"randomize",onClick:function(){return e({type:n.SET_RANDOMIZE})},children:"Randomize"})]}),Object(I.jsx)(N,{})]}),Object(I.jsx)("div",{className:"App__content",children:Object(I.jsx)("div",{className:"App__content-container",children:c?Object(I.jsx)(L,{}):"No user selected"})})]})}),D=function(){return Object(I.jsx)(i.a,{store:m,children:Object(I.jsx)(a.a,{children:Object(I.jsx)(C,{})})})};s.a.render(Object(I.jsx)(D,{}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.9851f7cf.chunk.js.map